{"remainingRequest":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/babel-loader/lib/index.js!/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pavel/Documents/Vue/Weather widget/Виджет погоды/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/src/App.vue","mtime":1570528605881},{"path":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/pavel/Documents/Vue/Weather widget/\\u0412\\u0438\\u0434\\u0436\\u0435\\u0442 \\u043F\\u043E\\u0433\\u043E\\u0434\\u044B/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Info from \"./components/Info.vue\";\nimport Form from \"./components/Form.vue\";\nimport Weather from \"./components/Weather.vue\";\nvar CITY_LIST = ['Москва', 'Санкт-Петербург', 'Курск', 'Волгоград'];\nexport default {\n  name: 'app',\n  components: {\n    Info: Info,\n    Form: Form,\n    Weather: Weather\n  },\n  data: function data() {\n    return {\n      arr: [],\n      citiesList: [],\n      key: '23fbf964c1eb2fa295dd50b21b675122',\n      city: '',\n      flag: false,\n      weatherFlag: false,\n      id: 0\n    };\n  },\n  methods: {\n    gettingWeather: function () {\n      var _gettingWeather = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(e) {\n        var link, data, synSunset, date, sunset, obj;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n\n                if (!this.city) {\n                  _context.next = 17;\n                  break;\n                }\n\n                _context.next = 4;\n                return fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(this.city, \"&appid=\").concat(this.key, \"&units=metric\"));\n\n              case 4:\n                link = _context.sent;\n                _context.next = 7;\n                return link.json();\n\n              case 7:\n                data = _context.sent;\n                synSunset = data.sys.sunset;\n                date = new Date(synSunset * 1000);\n                sunset = \"\".concat(date.getHours(), \":\").concat(date.getMinutes(), \":\").concat(date.getSeconds());\n                obj = {\n                  temp: data.main.temp,\n                  city: data.name,\n                  country: data.sys.country,\n                  pressure: data.main.pressure,\n                  sunset: sunset,\n                  id: this.id\n                };\n                this.arr.push(obj);\n                this.weatherFlag = true;\n                this.id++;\n                _context.next = 18;\n                break;\n\n              case 17:\n                if (this.city == '') {\n                  this.flag = true;\n                  this.weatherFlag = false;\n                }\n\n              case 18:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function gettingWeather(_x) {\n        return _gettingWeather.apply(this, arguments);\n      }\n\n      return gettingWeather;\n    }(),\n    inputChange: function () {\n      var _inputChange = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(e) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.city = e.target.value;\n                this.citiesList = CITY_LIST;\n                console.log(this.citiesList);\n\n                if (this.city) {\n                  this.flag = false;\n                }\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function inputChange(_x2) {\n        return _inputChange.apply(this, arguments);\n      }\n\n      return inputChange;\n    }(),\n    show: function show(item) {\n      this.city = item;\n    }\n  }\n};",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,OAAA,IAAA;AACA,OAAA,IAAA;AACA,OAAA,OAAA;AAEA,IAAA,SAAA,GAAA,CAAA,QAAA,EAAA,iBAAA,EAAA,OAAA,EAAA,WAAA,CAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA,IADA;AAEA,IAAA,IAAA,EAAA,IAFA;AAGA,IAAA,OAAA,EAAA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,GAAA,EAAA,kCAHA;AAIA,MAAA,IAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA,KALA;AAMA,MAAA,WAAA,EAAA,KANA;AAOA,MAAA,EAAA,EAAA;AAPA,KAAA;AASA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,cAAA;AAAA;AAAA;AAAA,8BAAA,iBAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,CAAA,CAAA,cAAA;;AADA,qBAEA,KAAA,IAFA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAIA,KAAA,6DAAA,KAAA,IAAA,oBAAA,KAAA,GAAA,mBAJA;;AAAA;AAGA,gBAAA,IAHA;AAAA;AAAA,uBAKA,IAAA,CAAA,IAAA,EALA;;AAAA;AAKA,gBAAA,IALA;AAOA,gBAAA,SAPA,GAOA,IAAA,CAAA,GAAA,CAAA,MAPA;AASA,gBAAA,IATA,GASA,IAAA,IAAA,CAAA,SAAA,GAAA,IAAA,CATA;AAUA,gBAAA,MAVA,aAUA,IAAA,CAAA,QAAA,EAVA,cAUA,IAAA,CAAA,UAAA,EAVA,cAUA,IAAA,CAAA,UAAA,EAVA;AAYA,gBAAA,GAZA,GAYA;AACA,kBAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA,IADA;AAEA,kBAAA,IAAA,EAAA,IAAA,CAAA,IAFA;AAGA,kBAAA,OAAA,EAAA,IAAA,CAAA,GAAA,CAAA,OAHA;AAIA,kBAAA,QAAA,EAAA,IAAA,CAAA,IAAA,CAAA,QAJA;AAKA,kBAAA,MAAA,EAAA,MALA;AAMA,kBAAA,EAAA,EAAA,KAAA;AANA,iBAZA;AAqBA,qBAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AACA,qBAAA,WAAA,GAAA,IAAA;AACA,qBAAA,EAAA;AAvBA;AAAA;;AAAA;AAyBA,oBAAA,KAAA,IAAA,IAAA,EAAA,EAAA;AACA,uBAAA,IAAA,GAAA,IAAA;AACA,uBAAA,WAAA,GAAA,KAAA;AACA;;AA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADA;AA+BA,IAAA,WAAA;AAAA;AAAA;AAAA,8BAAA,kBAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AACA,qBAAA,IAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA;AAEA,qBAAA,UAAA,GAAA,SAAA;AAEA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,UAAA;;AACA,oBAAA,KAAA,IAAA,EAAA;AACA,uBAAA,IAAA,GAAA,KAAA;AACA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OA/BA;AAyCA,IAAA,IAzCA,gBAyCA,IAzCA,EAyCA;AACA,WAAA,IAAA,GAAA,IAAA;AACA;AA3CA;AAlBA,CAAA","sourcesContent":["<template>\n  <div class=\"wraper\">\n    <Info />\n    <ul>\n      <li\n        v-for=\"item in citiesList\"\n        :key=\"item\"\n        @click=\"() => show(item)\">\n        {{item}}\n      </li>\n    </ul>\n    <Form \n      :weatherMethod=\"gettingWeather\" \n      :inputChange=\"inputChange\" \n      :city=\"city\"\n    />\n    <ul v-if=\"weatherFlag\">\n      <Weather \n        v-for=\"item in arr\"\n        :obj=\"item\"\n        :key=\"item.id\"\n      />\n    </ul>\n    <p v-if=\"this.flag\">Введите название города</p>\n  </div>  \n</template>\n\n<script>\nimport Info from './components/Info.vue';\nimport Form from './components/Form.vue';\nimport Weather from './components/Weather.vue';\n\nconst CITY_LIST = ['Москва', 'Санкт-Петербург', 'Курск', 'Волгоград'];\n\nexport default {\n  name: 'app',\n  components: {\n    Info,\n    Form,\n    Weather\n  },\n  data() {\n    return {\n      arr: [],\n      citiesList: [],\n      key: '23fbf964c1eb2fa295dd50b21b675122',\n      city: '',\n      flag: false,\n      weatherFlag: false,\n      id: 0,\n    }\n  },\n  methods: {\n    gettingWeather: async function (e) {\n      e.preventDefault();\n      if (this.city) {\n        const link = await \n        fetch(`https://api.openweathermap.org/data/2.5/weather?q=${this.city}&appid=${this.key}&units=metric`);\n        const data = await link.json();\n\n        const synSunset = data.sys.sunset;\n\n        const date = new Date(synSunset * 1000);\n        const sunset = `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;\n\n        const obj = {\n          temp: data.main.temp,\n          city: data.name,\n          country: data.sys.country,\n          pressure: data.main.pressure,\n          sunset: sunset,\n          id: this.id,\n        }\n\n        this.arr.push(obj);\n        this.weatherFlag = true;\n        this.id++;\n      }\n      else if (this.city == '') {\n        this.flag = true;\n        this.weatherFlag = false;\n      }  \n    },\n    inputChange: async function (e) {\n      this.city = e.target.value;\n\n      this.citiesList = CITY_LIST;\n      \n      console.log(this.citiesList);\n      if (this.city) {\n        this.flag = false;\n      }\n    },\n    show(item) {\n      this.city = item;\n    }\n  },\n}\n</script>\n\n<style>\n  ul {\n    margin-left: 0;\n    padding-left: 0; \n   }\n</style>\n"],"sourceRoot":"src"}]}